# 7. 在SpringMVC中使用Session



# 8. 拦截器(Interceptor)

## 8.1 拦截器基本概念
在SpringMVC框架中，可以自定义拦截器组件，并配置所对应的若干个请求，当客户端想这些路径发出
请求是，拦截器组件就会自动执行。在执行时，可以对该请求进行阻止，即：不运行向后执行；也可以选择放行，即正常通过。
## 8.2

## 8.3 配置拦截器
在spring.xml中,配置拦截器链

## 8.5 关于拦截器的详细配置
在配置拦截器时，在`mvc:interceptor`节点的子节点，通过`<mvc:mapping/>`节点配置拦截路径

可以配置多个拦截路径，例如:
```xml
<mvc:mapping path="index.do"/>
<mvc:mapping path="blog/addnew.do"/>
<mvc:mapping path="blog/edit.do">
<mvc:mapping path="blog/delete.do"/>
```
在表示路径时，也可已使用通配符，例如：
```xml
<mvc:mapping path="/index.do"/>
<mvc:mapping path="/blog/*"/>
```
1. 以上配置生效后，/blog/路径下的资源，都会被拦截。
需要注意的是  `/blog/*`只会匹配向下一个层级的资源，像`blog/2020/list.do`这样的路径不会被拦截。
2. 想要拦截的话，用`/blog/**`来配置。`/blog/**`可以匹配到`blog/`下面层级的所有资源。


3. 使用通配符，会出现拦截范围过大的问题，例如：配置为`/user/**`时，`/user/login.do`、`/user/handle_login.do`、`/user/reg.do`、`/user/handle_reg.html`都会被拦截；而这几个路径是不应该被拦截的。解决：使用`<mvc:exclude-mapping path=""/>`.
```xml
<mvc:mapping path="/user/**" />
<mvc:exclude-mapping path="/user/login.do" />
<mvc:exclude-mapping path="/user/handle_login.do" />
```

# 9. 解决POST请求参数乱码的问题

# 10. 关于@RequestMapping 的详解。



__ CMD + Alt + B __: 加粗







# 过滤器(Fileter)与拦截器(Interceptor)的区别
过滤器和拦截器都是可以应用于多个请求路径的，并且，再具体过程中，都可以选择阻止或放行，
在同一个项目中都可以有若干个这样的组件，已形成过滤器链或拦截器链。

1. 过滤器是Java EE 体系中的组件，而拦截器是SpringMVC框架中的组件！
所有的Java EE项目都可以使用过滤器，使用了SpringMVC的框架才可以使用拦截器。
2. 过滤器的设置非常死板, 只能配置需要过滤的路径，不能配置例外的路径，当使用通配符后，可能导致过滤范围过大。
只能在过滤器的Java类中进行判断。 而拦截器的配置就相当灵活了。可以配置若干个黑名单，也可以配置若干个白名单。
3. 过滤器是执行在所有Servlet组件之前的！而拦截器的首次执行是在Dispatcher之后执行的。


# 附： 乱码问题
解决：统一使用`utf-8`
1.项目源代码
2.数据库存储数据时，使用的编码。
3.传输过程中使用的编码
    - 请求过程
    - 响应过程
    - 服务器内部组件
    - 应用服务器与数据服务器的连接
之所以使用编码，是因为计算机能够直接识别并处理的只有0和1；
所以，计算机中使用字节作为存储数据的基本单位。


早期，使用ASCII码记录了人类生活中使用的英文、数字、标点符号 与 二进制数的对应关系。
例如`110 0001`对应`a`。 所以当需要计算机处理`a`时，实际上处理的是`110 0001`.
所以编码表其实就是一套记录了对应关系的"字典".
由于ASCII码只记录了一个字节的字符 与 二进制数 的关系。 所以这种编码不可以表示中文或其他国家、民族使用的字符。


于是就慢慢出现了一些其他编码……
目前使用最广泛的就是Unicode编码, 这是一种全球通用编码，记录了全世界所有国家和民族使用的字符串。


Unicode编码使用的更多的字节来描述一些字符，例如常见的中文字符都是使用2个字节来表示的。
但是这种编码只使用于内存中表示数据，并不能满足传输数据的需求！
假设`中`对应的二进制码是`1001 1101 1010 1111`,`文`对应的二进制编码是`0011 0000 0110 1011`.
如果要在网络上传输"中文"这两个汉字，对应的二进制序列就是`1001 1101 1010 1111 0011 0000 0110 1011`.
接收方根本无法区别到底是两个汉字，还是四个字母。

为了解决传输过程中的问题，就产生了Unicode的传输编码。例如UTF-8编码。
在这种传输编码中，就使用了特定的二进制位来表示一些特殊的含义。
例如某个占2字节的编码，其UTF-8格式为
`110x xxxx 10xx xxxx`
如果是用3个字节来表示一个字符串，格式为：
`1110 xxxx 110x xxxx 10xx xxxx`

UTF-8最多可以使用4个字节来表示一个字符，格式为:
```
1111 0xxx 1110 xxxx 110x xxx 10xx xxxx
```





### Systrace


